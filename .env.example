# =============================================================================
# deAPI MCP Server - Environment Configuration Example
# =============================================================================
# Copy this file to .env and fill in your values
# Never commit .env to version control!

# -----------------------------------------------------------------------------
# MCP Server Configuration (for remote hosting)
# -----------------------------------------------------------------------------
# Host to bind the server to (0.0.0.0 for all interfaces, 127.0.0.1 for localhost only)
MCP_HOST=0.0.0.0

# Port for the MCP server
MCP_PORT=8000

# Public base URL for OAuth endpoints (optional fallback)
# The server auto-detects HTTPS from X-Forwarded-Proto headers from ingress/proxy.
# Only set this if automatic detection fails in your environment.
# Example: PUBLIC_BASE_URL=https://deapi-mcp.deapi.ai
# PUBLIC_BASE_URL=

# -----------------------------------------------------------------------------
# OAuth / JWT Configuration
# -----------------------------------------------------------------------------
# Secret key for signing JWT tokens used in OAuth flow
# IMPORTANT: Set this in production to keep tokens valid across server restarts
# If not set, a random key is generated each time the server starts (dev/testing only)
# Generate a secure key with: python -c "import secrets; print(secrets.token_urlsafe(32))"
# DEAPI_JWT_SECRET_KEY=your-secret-key-here

# -----------------------------------------------------------------------------
# deAPI Configuration
# -----------------------------------------------------------------------------
# Base URL for the deAPI
DEAPI_API_BASE_URL=https://api.deapi.ai

# API version (usually v1)
DEAPI_API_VERSION=v1

# -----------------------------------------------------------------------------
# HTTP Client Configuration
# -----------------------------------------------------------------------------
# Request timeout in seconds
DEAPI_HTTP_TIMEOUT=30.0

# Maximum number of retry attempts for failed requests
DEAPI_MAX_RETRIES=3

# Exponential backoff factor for retries
DEAPI_RETRY_BACKOFF_FACTOR=2.0

# -----------------------------------------------------------------------------
# Polling Configuration
# -----------------------------------------------------------------------------
# You can override the default polling settings for each job type.
# Format: DEAPI_POLLING_{TYPE}__{SETTING}

# Audio transcription polling
# DEAPI_POLLING_AUDIO__INITIAL_DELAY=1.0
# DEAPI_POLLING_AUDIO__MAX_DELAY=5.0
# DEAPI_POLLING_AUDIO__TIMEOUT=300.0
# DEAPI_POLLING_AUDIO__MULTIPLIER=1.5

# Image generation polling
# DEAPI_POLLING_IMAGE__INITIAL_DELAY=2.0
# DEAPI_POLLING_IMAGE__MAX_DELAY=8.0
# DEAPI_POLLING_IMAGE__TIMEOUT=300.0
# DEAPI_POLLING_IMAGE__MULTIPLIER=1.5

# Video generation polling
# DEAPI_POLLING_VIDEO__INITIAL_DELAY=5.0
# DEAPI_POLLING_VIDEO__MAX_DELAY=30.0
# DEAPI_POLLING_VIDEO__TIMEOUT=900.0
# DEAPI_POLLING_VIDEO__MULTIPLIER=1.5

# -----------------------------------------------------------------------------
# Model Description Enrichment
# -----------------------------------------------------------------------------
# When enabled, tool descriptions are enriched with available model info
# (slugs, parameter limits, guidance requirements) so LLMs can choose
# correct models without calling get_available_models first.
# DEAPI_ENRICH_TOOL_DESCRIPTIONS=true

# Cache TTL for model info used in description enrichment (seconds)
# DEAPI_MODEL_CACHE_TTL=300.0

# -----------------------------------------------------------------------------
# Notes
# -----------------------------------------------------------------------------
# - All DEAPI_* variables can be set to customize the server behavior
# - Use environment-specific .env files (.env.development, .env.production)
# - For Claude Desktop usage, you typically don't need to set these unless
#   you want to override the defaults
# - API tokens should NEVER be stored in .env - they are passed per-request
